# Races MVP ‚Äî –ë—ç–∫–ª–æ–≥

## 1. Disambiguation –ø—Ä–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏–º—ë–Ω –≤ –ø–æ–∏—Å–∫–µ

### –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –ø–æ–∏—Å–∫–µ –ø–æ –∏–º–µ–Ω–∏ `find_across_years` –±–µ—Ä—ë—Ç `found[0]` –≤ –∫–∞–∂–¥–æ–º –≥–æ–¥—É. –ï—Å–ª–∏ –ø–æ –∑–∞–ø—Ä–æ—Å—É —Å–æ–≤–ø–∞–¥–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–µ–ª–æ–≤–µ–∫ ‚Äî –≤ —Ä–∞–∑–Ω—ã—Ö –≥–æ–¥–∞—Ö –º–æ–≥—É—Ç –ø–æ–∫–∞–∑–∞—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–∑–Ω—ã—Ö –ª—é–¥–µ–π.

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (2026-02-25)

- –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è: –±–æ—Ç —Ç—Ä–µ–±—É–µ—Ç –º–∏–Ω–∏–º—É–º 2 —Å–ª–æ–≤–∞ (–∏–º—è + —Ñ–∞–º–∏–ª–∏—è)
- –í —Ç–µ–∫—É—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö Alpine Race (2023-2025) –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –∏–º—ë–Ω –Ω–µ—Ç (271 –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–µ—Å—è –∏–º—è ‚Äî –≤—Å–µ –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –ª—é–¥–∏)
- 3 –º–µ–ª–∫–∏—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –ø–æ birth_year ‚Äî —Å–∫–æ—Ä–µ–µ –æ–ø–µ—á–∞—Ç–∫–∏ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### –ö–æ–≥–¥–∞ —Å—Ç–∞–Ω–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ

- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –≥–æ–Ω–æ–∫ —Å –±–æ–ª—å—à–∏–º —á–∏—Å–ª–æ–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- –ü—Ä–∏ –ø–æ–∏—Å–∫–µ –ø–æ —Ñ–∞–º–∏–ª–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç —Å–æ–≤–ø–∞—Å—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Ivanov Artem" –∏ "Ivanov Alexander" –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ "Ivanov")

### –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

1. **Disambiguation UI**: –µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ >1 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–º—ë–Ω ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å inline-–∫–Ω–æ–ø–∫–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞
2. **Best candidate**: –≤—ã–±–∏—Ä–∞—Ç—å –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º —á–∏—Å–ª–æ–º —É—á–∞—Å—Ç–∏–π –ø–æ –≥–æ–¥–∞–º (–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å)
3. **–û–±–∞**: —Å–Ω–∞—á–∞–ª–∞ best candidate, –ø—Ä–∏ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç–∏ ‚Äî UI –≤—ã–±–æ—Ä

---

## 2. ~~–í—Ä–µ–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ~~ ‚úÖ

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ Phase 2.5, –ó–∞–¥–∞—á–∞ 1. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (–æ–¥–∏–Ω –≥–æ–¥ –∏ –≤—Å–µ –≥–æ–¥—ã) –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "üë§ –¢–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: X / N-–µ –º–µ—Å—Ç–æ –∏–∑ M" –µ—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ—Ö—Ä–∞–Ω—ë–Ω `race_search_name`.

---

## 3. Aliases –¥–∏—Å—Ç–∞–Ω—Ü–∏–π –≤ YAML (–≤–º–µ—Å—Ç–æ —Ö–∞—Ä–¥–∫–æ–¥–∞)

### –°—É—Ç—å

–°–µ–π—á–∞—Å –º–∞–ø–ø–∏–Ω–≥ —Ä—É—Å—Å–∫–∏—Ö/–∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –¥–∏—Å—Ç–∞–Ω—Ü–∏–π –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω –≤ `_DISTANCE_NAME_ALIASES` –≤ `catalog.py`. –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –≥–æ–Ω–æ–∫ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –º–µ–Ω—è—Ç—å –∫–æ–¥. –õ—É—á—à–µ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ –¥–∞–Ω–Ω—ã–µ.

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (2026-02-25)

- `catalog.py` —Å–æ–¥–µ—Ä–∂–∏—Ç `_DISTANCE_NAME_ALIASES` dict: `"—Å–∫–∞–π—Ä–∞–Ω–Ω–∏–Ω–≥" ‚Üí "skyrunning"` –∏ —Ç.–¥.
- `normalize_distance_name()` –∏ `find_distance_results()` –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–≥–æ
- API endpoint `get_results` –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –∏–º–µ–Ω–∞ —á–µ—Ä–µ–∑ –∫–∞—Ç–∞–ª–æ–≥ ‚Äî –±–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–µ –∏–º—è

### –†–µ—à–µ–Ω–∏–µ

–î–æ–±–∞–≤–∏—Ç—å `aliases` –≤ `races.yaml`:

```yaml
distances:
  - id: skyrunning
    name: Skyrunning
    aliases: ["–°–∫–∞–π—Ä–∞–Ω–Ω–∏–Ω–≥"]
  - id: skyrunning_lite
    name: Skyrunning lite
    aliases: ["–°–∫–∞–π—Ä–∞–Ω–Ω–∏–Ω–≥ –õ–∞–π—Ç"]
```

`RaceDistance` dataclass ‚Üí –¥–æ–±–∞–≤–∏—Ç—å `aliases: list[str]`. `_DISTANCE_NAME_ALIASES` ‚Üí –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ.

### –ö–æ–≥–¥–∞ –¥–µ–ª–∞—Ç—å

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤—Ç–æ—Ä–æ–π –≥–æ–Ω–∫–∏ –∏–ª–∏ –ø—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ –∫–∞—Ç–∞–ª–æ–≥–∞.

---

## 4. –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π hiking-–ø—Ä–æ–≥–Ω–æ–∑ –¥–ª—è –≥–æ–Ω–æ–∫

### –°—É—Ç—å

–°–µ–π—á–∞—Å hiking mode –≤ races –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `ComparisonService` (Tobler + Naismith) –±–µ–∑ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏. –ï—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å `UserHikingProfile` –∏–∑ Strava (Hike/Walk –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏), –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è.

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

- `HikePersonalizationService` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –¥–∞—ë—Ç –æ–¥–Ω–æ —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è (–±–µ–∑ effort levels fast/moderate/easy)
- `UserHikingProfile` –Ω–µ —Ö—Ä–∞–Ω–∏—Ç percentiles (p25/p50/p75) ‚Äî —Ç–æ–ª—å–∫–æ —Å—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º
- Races hiking flow –∏–¥—ë—Ç —á–µ—Ä–µ–∑ `ComparisonService`, –∞ –Ω–µ `TrailRunService`

### –ß—Ç–æ –Ω—É–∂–Ω–æ

1. –î–æ–±–∞–≤–∏—Ç—å percentiles –≤ `UserHikingProfile` (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ `UserRunProfile.gradient_percentiles`)
2. –î–æ–±–∞–≤–∏—Ç—å effort levels –≤ `HikePersonalizationService`
3. –õ–∏–±–æ –ø—Ä–æ–∫–∏–Ω—É—Ç—å `hike_profile` –≤ races hiking flow, –ª–∏–±–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `TrailRunService` —Å `hike_profile` –¥–ª—è hiking mode
